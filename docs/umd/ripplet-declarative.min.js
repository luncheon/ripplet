!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ripplet=t()}(this,function(){"use strict";function w(e,t,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];e[o]=t[o]}}var R={className:"",color:"currentcolor",opacity:.1,spreadingDuration:".4s",spreadingDelay:"0s",spreadingTimingFunction:"linear",clearing:!0,clearingDuration:"1s",clearingDelay:"0s",clearingTimingFunction:"ease-in-out",centered:!1,appendTo:"body"},B=new Map;function o(e,n){var t=e.currentTarget,i=e.clientX,r=e.clientY;if(t instanceof Element){var o=n?Object.keys(R).reduce(function(e,t){return e[t]=n.hasOwnProperty(t)?n[t]:R[t],e},{}):R,a=t.getBoundingClientRect();if(o.centered&&"false"!==o.centered)i=a.left+.5*a.width,r=a.top+.5*a.height;else if("number"!=typeof i||"number"!=typeof r)return;var l,p,c,s,d=getComputedStyle(t),f=document.documentElement,u=document.body,g=document.createElement("div"),m="parent"===o.appendTo,h=g,y=g.style;"fixed"===d.position||"absolute"===d.position&&m?(m?t.parentElement.insertBefore(g,t):u.appendChild(g),w(y,d,["position","left","top","right","bottom","marginLeft","marginTop","marginRight","marginBottom"])):m?"flex"===(l=getComputedStyle(t.parentElement)).display||"inline-flex"===l.display?(t.parentElement.insertBefore(g,t),y.position="absolute",y.left=t.offsetLeft+"px",y.top=t.offsetTop+"px"):((c=(p=h=t.parentElement.insertBefore(document.createElement("div"),t)).style).display="inline-block",c.position="relative",c.width=c.height="0",c.cssFloat=d.cssFloat,s=p.getBoundingClientRect(),p.appendChild(g),y.position="absolute",y.top=a.top-s.top+"px",y.left=a.left-s.left+"px"):(u.appendChild(g),y.position="absolute",y.left=a.left+f.scrollLeft+u.scrollLeft+"px",y.top=a.top+f.scrollTop+u.scrollTop+"px"),y.overflow="hidden",y.pointerEvents="none",y.width=a.width+"px",y.height=a.height+"px",y.zIndex=(+d.zIndex||0)+1,y.opacity=o.opacity,w(y,d,["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","webkitClipPath","clipPath"]);var v,b=Math.max(i-a.left,a.right-i),E=Math.max(r-a.top,a.bottom-r),x=Math.sqrt(b*b+E*E),T=g.appendChild(document.createElement("div")),C=T.style,L=o.color&&o.color.match(/^var\((--.+)\)$/);return C.backgroundColor=L?d.getPropertyValue(L[1]):/^currentcolor$/i.test(o.color)?d.color:o.color,T.className=o.className,C.width=C.height=2*x+"px","rtl"===getComputedStyle(m?t.parentElement:u).direction?C.marginRight=a.right-i-x+"px":C.marginLeft=i-a.left-x+"px",C.marginTop=r-a.top-x+"px",C.borderRadius="50%",C.transition="transform "+o.spreadingDuration+" "+o.spreadingTimingFunction+" "+o.spreadingDelay+",opacity "+o.clearingDuration+" "+o.clearingTimingFunction+" "+o.clearingDelay,C.transform="scale(0)",T.offsetTop,C.transform="",T.addEventListener("transitionend",function(e){"opacity"===e.propertyName&&h.parentElement&&h.parentElement.removeChild(h)}),o.clearing&&"false"!==o.clearing?C.opacity="0":((v=B.get(t))||B.set(t,v=new Map),v.set(g,T)),g}}o.clear=function(e,t){var n,i;e?(n=B.get(e))&&(t?((i=n.get(t))&&(i.style.opacity="0"),n.delete(t),0===n.size&&B.delete(e)):(n.forEach(function(e){return e.style.opacity="0"}),B.delete(e))):(B.forEach(function(e){return e.forEach(function(e){return e.style.opacity="0"})}),B.clear())},o.defaultOptions=R,o._ripplets=B;addEventListener("pointerdown",function(e){var t,n,i,r;0!==e.button||(t=function(e){for(;e&&!e.hasAttribute("data-ripplet");)e=e.parentElement;return e}(e.target))&&("true"!==(n=function(e){var t={};if(e)for(var n=0,i=e.split(";");n<i.length;n++){var r=i[n],o=r.indexOf(":");t[r.slice(0,o).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,function(e){return e[0]+e[2].toUpperCase()})]=r.slice(o+1).trim()}return t}(t.getAttribute("data-ripplet"))).clearing&&(n.clearing="false",i=function(){o.clear(t,r),t.removeEventListener("pointerup",i),t.removeEventListener("pointerleave",i)},t.addEventListener("pointerup",i),t.addEventListener("pointerleave",i)),r=o({currentTarget:t,clientX:e.clientX,clientY:e.clientY},n))},!0);var t=Object.freeze({__proto__:null,default:o,defaultOptions:R});return Object.keys(t).forEach(function(e){o[e]=t[e]}),o});