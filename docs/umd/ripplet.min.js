!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ripplet=t()}(this,function(){"use strict";function v(e,t,n){if(e){e=e.multiply((new T).translate(t,n));return{x:e.e,y:e.f}}return{x:t,y:n}}function E(e,t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];e[i]=t[i]}}var T="undefined"!=typeof DOMMatrix?DOMMatrix:"undefined"!=typeof MSCSSMatrix?MSCSSMatrix:void 0,C={className:"",color:"currentcolor",opacity:.1,spreadingDuration:".4s",spreadingDelay:"0s",spreadingTimingFunction:"linear",clearing:!0,clearingDuration:"1s",clearingDelay:"0s",clearingTimingFunction:"ease-in-out",centered:!1,appendTo:"body"},w=new Map;function t(e,n){var t=e.currentTarget,r=e.clientX,o=e.clientY;if(t instanceof Element){var i=n?Object.keys(C).reduce(function(e,t){return e[t]=(n.hasOwnProperty(t)?n:C)[t],e},{}):C,a=document.documentElement,l=document.body,p=getComputedStyle(l),s=1/(+p.zoom||1),f=function(e){if("none"!==e.transform){var t=e.transformOrigin.split(" "),n=parseFloat(t[0]),t=parseFloat(t[1]);return(new T).translate(n+parseFloat(e.marginLeft),t+parseFloat(e.marginTop)).multiply(new T(e.transform)).translate(-n,-t).inverse()}}(p),c=t.getBoundingClientRect();if(i.centered&&"false"!==i.centered)r=c.left+.5*c.width,o=c.top+.5*c.height;else{if("number"!=typeof r||"number"!=typeof o)return;r*=s,o*=s}var d,u=getComputedStyle(t),m=function(e){var t=e&&/^var\((--.+)\)$/.exec(e);return t?u.getPropertyValue(t[1]):e},g=document.createElement("div"),y="parent"===i.appendTo,h=g,x=g.style;"fixed"===u.position||"absolute"===u.position&&y?(y?t.parentElement.insertBefore(g,t):l.appendChild(g),E(x,u,["position","left","top","right","bottom","marginLeft","marginTop","marginRight","marginBottom"])):y?"flex"===(d=getComputedStyle(t.parentElement)).display||"inline-flex"===d.display?(t.parentElement.insertBefore(g,t),x.position="absolute",x.left=t.offsetLeft+"px",x.top=t.offsetTop+"px"):((d=(e=h=t.parentElement.insertBefore(document.createElement("div"),t)).style).cssFloat="left",d.position="relative",d=e.getBoundingClientRect(),e.appendChild(g),x.position="absolute",x.top=c.top-d.top+"px",x.left=c.left-d.left+"px"):(l.appendChild(g),x.position="absolute",b=v(f,c.left+a.scrollLeft+l.scrollLeft*s,c.top+a.scrollTop+l.scrollTop*s),x.left=b.x+"px",x.top=b.y+"px");var b=v(function(e){if("none"!==e.transform){e=new T(e.transform);return e.translate(-e.e,-e.f).inverse()}}(p),c.width,c.height);x.width=b.x+"px",x.height=b.y+"px",x.overflow="hidden",x.pointerEvents="none",x.zIndex=(+u.zIndex||0)+1,x.opacity=m(i.opacity),E(x,u,["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","webkitClipPath","clipPath"]);p=v(f,c.left,c.top),b=v(f,c.right,c.bottom),x=v(f,r,o),c=Math.max(x.x-p.x,b.x-x.x),f=Math.max(x.y-p.y,b.y-x.y),r=Math.sqrt(c*c+f*f),o=document.createElement("div"),c=o.style,f=m(i.color);return c.backgroundColor=/^currentcolor$/i.test(f)?u.color:f,o.className=i.className,c.width=c.height=2*r+"px","rtl"===getComputedStyle(y?t.parentElement:l).direction?c.marginRight=b.x-x.x-r+"px":c.marginLeft=x.x-p.x-r+"px",c.marginTop=x.y-p.y-r+"px",c.borderRadius="50%",c.transition="transform "+m(i.spreadingDuration)+" "+m(i.spreadingTimingFunction)+" "+m(i.spreadingDelay)+",opacity "+m(i.clearingDuration)+" "+m(i.clearingTimingFunction)+" "+m(i.clearingDelay),c.transform="scale(0)",g.appendChild(o),o.offsetTop,c.transform="",o.addEventListener("transitionend",function(e){"opacity"===e.propertyName&&h.parentElement&&h.parentElement.removeChild(h)}),i.clearing&&"false"!==i.clearing?c.opacity="0":((c=w.get(t))||w.set(t,c=new Map),c.set(g,o)),g}}t.clear=function(e,t){var n,r;e?(n=w.get(e))&&(t?((r=n.get(t))&&(r.style.opacity="0"),n.delete(t),0===n.size&&w.delete(e)):(n.forEach(function(e){return e.style.opacity="0"}),w.delete(e))):(w.forEach(function(e){return e.forEach(function(e){return e.style.opacity="0"})}),w.clear())},t.defaultOptions=C,t._ripplets=w;var n=Object.freeze({__proto__:null,defaultOptions:C,default:t});return Object.keys(n).forEach(function(e){t[e]=n[e]}),t});